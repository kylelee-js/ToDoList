{"ast":null,"code":"import _toConsumableArray from\"/Users/leegihun/Documents/JS_Practice/ToDoList/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/leegihun/Documents/JS_Practice/ToDoList/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/leegihun/Documents/JS_Practice/ToDoList/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import React from\"react\";import{useRecoilState}from\"recoil\";import styled from\"styled-components\";import{Categories,toDoState}from\"../atoms\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CustomCategory=styled.button(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  border-radius: 50%;\\n  background-color: whitesmoke;\\n\"])));function ToDo(_ref){var text=_ref.text,category=_ref.category,id=_ref.id,customCategory=_ref.customCategory;var _useRecoilState=useRecoilState(toDoState),_useRecoilState2=_slicedToArray(_useRecoilState,2),toDos=_useRecoilState2[0],setToDos=_useRecoilState2[1];var onClick=function onClick(event){var name=event.currentTarget.name;setToDos(function(prev){var index=prev.findIndex(function(toDo){return toDo.id===id;});var front=prev.slice(0,index);var back=prev.slice(index+1);var newToDo={text:text,id:id,category:name,customCategory:customCategory};var newArr=[].concat(_toConsumableArray(front),[newToDo],_toConsumableArray(back));return newArr;});};var onDelete=function onDelete(){setToDos(function(prev){var targetIndex=prev.findIndex(function(toDo){return toDo.id===id;});var copyToDos=_toConsumableArray(prev);copyToDos.splice(targetIndex,1);return copyToDos;});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"* \",text]}),category!==Categories.DOING&&/*#__PURE__*/_jsx(\"button\",{name:Categories.DOING,onClick:onClick,children:\"Doing\"}),category!==Categories.TODO&&/*#__PURE__*/_jsx(\"button\",{name:Categories.TODO,onClick:onClick,children:\"To Do\"}),category!==Categories.DONE&&/*#__PURE__*/_jsx(\"button\",{name:Categories.DONE,onClick:onClick,children:\"Done\"}),customCategory&&/*#__PURE__*/_jsx(CustomCategory,{children:customCategory}),/*#__PURE__*/_jsx(\"button\",{onClick:onDelete,children:\"X\"})]})});}export default ToDo;","map":{"version":3,"sources":["/Users/leegihun/Documents/JS_Practice/ToDoList/src/components/ToDo.tsx"],"names":["React","useRecoilState","styled","Categories","toDoState","CustomCategory","button","ToDo","text","category","id","customCategory","toDos","setToDos","onClick","event","name","currentTarget","prev","index","findIndex","toDo","front","slice","back","newToDo","newArr","onDelete","targetIndex","copyToDos","splice","DOING","TODO","DONE"],"mappings":"wbAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,cAAT,KAAkE,QAAlE,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,OAASC,UAAT,CAAiDC,SAAjD,KAAkE,UAAlE,C,6IAEA,GAAMC,CAAAA,cAAc,CAAGH,MAAM,CAACI,MAAV,2HAApB,CAKA,QAASC,CAAAA,IAAT,MAA6D,IAA7CC,CAAAA,IAA6C,MAA7CA,IAA6C,CAAvCC,QAAuC,MAAvCA,QAAuC,CAA7BC,EAA6B,MAA7BA,EAA6B,CAAzBC,cAAyB,MAAzBA,cAAyB,CAC3D,oBAA0BV,cAAc,CAACG,SAAD,CAAxC,oDAAOQ,KAAP,qBAAcC,QAAd,qBACA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAgD,CAC9D,GACmBC,CAAAA,IADnB,CAEID,KAFJ,CACEE,aADF,CACmBD,IADnB,CAGAH,QAAQ,CAAC,SAACK,IAAD,CAAU,CACjB,GAAMC,CAAAA,KAAK,CAAGD,IAAI,CAACE,SAAL,CAAe,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACX,EAAL,GAAYA,EAAtB,EAAf,CAAd,CAEA,GAAMY,CAAAA,KAAK,CAAGJ,IAAI,CAACK,KAAL,CAAW,CAAX,CAAcJ,KAAd,CAAd,CACA,GAAMK,CAAAA,IAAI,CAAGN,IAAI,CAACK,KAAL,CAAWJ,KAAK,CAAG,CAAnB,CAAb,CACA,GAAMM,CAAAA,OAAO,CAAG,CAAEjB,IAAI,CAAJA,IAAF,CAAQE,EAAE,CAAFA,EAAR,CAAYD,QAAQ,CAAEO,IAAtB,CAAmCL,cAAc,CAAdA,cAAnC,CAAhB,CACA,GAAMe,CAAAA,MAAM,8BAAOJ,KAAP,GAAcG,OAAd,qBAA0BD,IAA1B,EAAZ,CACA,MAAOE,CAAAA,MAAP,CACD,CARO,CAAR,CASD,CAbD,CAeA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACrBd,QAAQ,CAAC,SAACK,IAAD,CAAU,CACjB,GAAMU,CAAAA,WAAW,CAAGV,IAAI,CAACE,SAAL,CAAe,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACX,EAAL,GAAYA,EAAtB,EAAf,CAApB,CACA,GAAMmB,CAAAA,SAAS,oBAAOX,IAAP,CAAf,CACAW,SAAS,CAACC,MAAV,CAAiBF,WAAjB,CAA8B,CAA9B,EACA,MAAOC,CAAAA,SAAP,CACD,CALO,CAAR,CAMD,CAPD,CAQA,mBACE,sCACE,mCACE,6BAASrB,IAAT,GADF,CAEGC,QAAQ,GAAKN,UAAU,CAAC4B,KAAxB,eACC,eAAQ,IAAI,CAAE5B,UAAU,CAAC4B,KAAzB,CAAgC,OAAO,CAAEjB,OAAzC,mBAHJ,CAOGL,QAAQ,GAAKN,UAAU,CAAC6B,IAAxB,eACC,eAAQ,IAAI,CAAE7B,UAAU,CAAC6B,IAAzB,CAA+B,OAAO,CAAElB,OAAxC,mBARJ,CAYGL,QAAQ,GAAKN,UAAU,CAAC8B,IAAxB,eACC,eAAQ,IAAI,CAAE9B,UAAU,CAAC8B,IAAzB,CAA+B,OAAO,CAAEnB,OAAxC,kBAbJ,CAiBGH,cAAc,eAAI,KAAC,cAAD,WAAiBA,cAAjB,EAjBrB,cAkBE,eAAQ,OAAO,CAAEgB,QAAjB,eAlBF,GADF,EADF,CAwBD,CAED,cAAepB,CAAAA,IAAf","sourcesContent":["import React from \"react\";\nimport { useRecoilState, useRecoilValue, useSetRecoilState } from \"recoil\";\nimport styled from \"styled-components\";\nimport { Categories, customCategoryState, IToDo, toDoState } from \"../atoms\";\n\nconst CustomCategory = styled.button`\n  border-radius: 50%;\n  background-color: whitesmoke;\n`;\n\nfunction ToDo({ text, category, id, customCategory }: IToDo) {\n  const [toDos, setToDos] = useRecoilState(toDoState);\n  const onClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    const {\n      currentTarget: { name },\n    } = event;\n    setToDos((prev) => {\n      const index = prev.findIndex((toDo) => toDo.id === id);\n\n      const front = prev.slice(0, index);\n      const back = prev.slice(index + 1);\n      const newToDo = { text, id, category: name as any, customCategory };\n      const newArr = [...front, newToDo, ...back];\n      return newArr;\n    });\n  };\n\n  const onDelete = () => {\n    setToDos((prev) => {\n      const targetIndex = prev.findIndex((toDo) => toDo.id === id);\n      const copyToDos = [...prev];\n      copyToDos.splice(targetIndex, 1);\n      return copyToDos;\n    });\n  };\n  return (\n    <>\n      <li>\n        <span>* {text}</span>\n        {category !== Categories.DOING && (\n          <button name={Categories.DOING} onClick={onClick}>\n            Doing\n          </button>\n        )}\n        {category !== Categories.TODO && (\n          <button name={Categories.TODO} onClick={onClick}>\n            To Do\n          </button>\n        )}\n        {category !== Categories.DONE && (\n          <button name={Categories.DONE} onClick={onClick}>\n            Done\n          </button>\n        )}\n        {customCategory && <CustomCategory>{customCategory}</CustomCategory>}\n        <button onClick={onDelete}>X</button>\n      </li>\n    </>\n  );\n}\n\nexport default ToDo;\n"]},"metadata":{},"sourceType":"module"}