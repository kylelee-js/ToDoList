{"ast":null,"code":"import _objectSpread from\"/Users/leegihun/Documents/JS_Practice/ToDoList/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/leegihun/Documents/JS_Practice/ToDoList/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/leegihun/Documents/JS_Practice/ToDoList/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect}from\"react\";import{useForm}from\"react-hook-form\";import{useRecoilState,useRecoilValue}from\"recoil\";import{categoryState,customCategoryState,toDoState}from\"../atoms\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function CreateToDo(){var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,setValue=_useForm.setValue;var _useRecoilState=useRecoilState(toDoState),_useRecoilState2=_slicedToArray(_useRecoilState,2),toDos=_useRecoilState2[0],setToDos=_useRecoilState2[1];var category=useRecoilValue(categoryState);var _useRecoilState3=useRecoilState(customCategoryState),_useRecoilState4=_slicedToArray(_useRecoilState3,2),customCategoryArr=_useRecoilState4[0],setCustomCategory=_useRecoilState4[1];useEffect(function(){localStorage.setItem(\"storedToDo\",JSON.stringify(toDos));},[toDos]);var onValid=function onValid(TODOS){setToDos(function(prev){return[{text:TODOS.toDo,id:Date.now(),category:category,customCategory:TODOS.customCategory}].concat(_toConsumableArray(prev));});// setCategory를 통해 커스텀 카테고리 입력\nif(TODOS.customCategory!==\"\"){setCustomCategory(function(prev){return[TODOS.customCategory+\"\"].concat(_toConsumableArray(prev));});}// hook-form의 객체 중  \"toDo\" 프로퍼티의 값을 변경\nsetValue(\"toDo\",\"\");setValue(\"category\",\"\");};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onValid),children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({placeholder:\"What to do?\"},register(\"toDo\",{required:true,minLength:{value:5,message:\"too short\"}}))),/*#__PURE__*/_jsx(\"input\",_objectSpread({placeholder:\"Custom Category\"},register(\"customCategory\"))),/*#__PURE__*/_jsx(\"button\",{children:\"Add\"})]})});}export default CreateToDo;","map":{"version":3,"sources":["/Users/leegihun/Documents/JS_Practice/ToDoList/src/components/CreateToDo.tsx"],"names":["useEffect","useForm","useRecoilState","useRecoilValue","categoryState","customCategoryState","toDoState","CreateToDo","register","handleSubmit","setValue","toDos","setToDos","category","customCategoryArr","setCustomCategory","localStorage","setItem","JSON","stringify","onValid","TODOS","prev","text","toDo","id","Date","now","customCategory","required","minLength","value","message"],"mappings":"mZAAA,OAASA,SAAT,KAAoC,OAApC,CACA,OAASC,OAAT,KAAwB,iBAAxB,CACA,OAASC,cAAT,CAAyBC,cAAzB,KAAkE,QAAlE,CACA,OAASC,aAAT,CAAwBC,mBAAxB,CAA6CC,SAA7C,KAA8D,UAA9D,C,6IAOA,QAASC,CAAAA,UAAT,EAAsB,CACpB,aAA6CN,OAAO,EAApD,CAAQO,QAAR,UAAQA,QAAR,CAAkBC,YAAlB,UAAkBA,YAAlB,CAAgCC,QAAhC,UAAgCA,QAAhC,CACA,oBAA0BR,cAAc,CAACI,SAAD,CAAxC,oDAAOK,KAAP,qBAAcC,QAAd,qBACA,GAAMC,CAAAA,QAAQ,CAAGV,cAAc,CAACC,aAAD,CAA/B,CACA,qBACEF,cAAc,CAACG,mBAAD,CADhB,qDAAOS,iBAAP,qBAA0BC,iBAA1B,qBAGAf,SAAS,CAAC,UAAM,CACdgB,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAmCC,IAAI,CAACC,SAAL,CAAeR,KAAf,CAAnC,EACD,CAFQ,CAEN,CAACA,KAAD,CAFM,CAAT,CAIA,GAAMS,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAkB,CAChCT,QAAQ,CAAC,SAACU,IAAD,SACP,CACEC,IAAI,CAAEF,KAAK,CAACG,IADd,CAEEC,EAAE,CAAEC,IAAI,CAACC,GAAL,EAFN,CAGEd,QAAQ,CAARA,QAHF,CAIEe,cAAc,CAAEP,KAAK,CAACO,cAJxB,CADO,4BAOJN,IAPI,IAAD,CAAR,CASA;AACA,GAAID,KAAK,CAACO,cAAN,GAAyB,EAA7B,CAAiC,CAC/Bb,iBAAiB,CAAC,SAACO,IAAD,SAAWD,KAAK,CAACO,cAAN,CAAuB,EAAlC,4BAAyCN,IAAzC,IAAD,CAAjB,CACD,CAED;AACAZ,QAAQ,CAAC,MAAD,CAAS,EAAT,CAAR,CACAA,QAAQ,CAAC,UAAD,CAAa,EAAb,CAAR,CACD,CAlBD,CAoBA,mBACE,sCACE,cAAM,QAAQ,CAAED,YAAY,CAACW,OAAD,CAA5B,wBACE,4BACE,WAAW,CAAC,aADd,EAEMZ,QAAQ,CAAC,MAAD,CAAS,CACnBqB,QAAQ,CAAE,IADS,CAEnBC,SAAS,CAAE,CAAEC,KAAK,CAAE,CAAT,CAAYC,OAAO,CAAE,WAArB,CAFQ,CAAT,CAFd,EADF,cAQE,4BAAO,WAAW,CAAC,iBAAnB,EAAyCxB,QAAQ,CAAC,gBAAD,CAAjD,EARF,cASE,+BATF,GADF,EADF,CAeD,CAED,cAAeD,CAAAA,UAAf","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useRecoilState, useRecoilValue, useSetRecoilState } from \"recoil\";\nimport { categoryState, customCategoryState, toDoState } from \"../atoms\";\n\ninterface IForm {\n  toDo: string;\n  category: string;\n  customCategory?: string;\n}\nfunction CreateToDo() {\n  const { register, handleSubmit, setValue } = useForm<IForm>();\n  const [toDos, setToDos] = useRecoilState(toDoState);\n  const category = useRecoilValue(categoryState);\n  const [customCategoryArr, setCustomCategory] =\n    useRecoilState(customCategoryState);\n\n  useEffect(() => {\n    localStorage.setItem(\"storedToDo\", JSON.stringify(toDos));\n  }, [toDos]);\n\n  const onValid = (TODOS: IForm) => {\n    setToDos((prev) => [\n      {\n        text: TODOS.toDo,\n        id: Date.now(),\n        category,\n        customCategory: TODOS.customCategory,\n      },\n      ...prev,\n    ]);\n    // setCategory를 통해 커스텀 카테고리 입력\n    if (TODOS.customCategory !== \"\") {\n      setCustomCategory((prev) => [TODOS.customCategory + \"\", ...prev]);\n    }\n\n    // hook-form의 객체 중  \"toDo\" 프로퍼티의 값을 변경\n    setValue(\"toDo\", \"\");\n    setValue(\"category\", \"\");\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit(onValid)}>\n        <input\n          placeholder=\"What to do?\"\n          {...register(\"toDo\", {\n            required: true,\n            minLength: { value: 5, message: \"too short\" },\n          })}\n        />\n        <input placeholder=\"Custom Category\" {...register(\"customCategory\")} />\n        <button>Add</button>\n      </form>\n    </>\n  );\n}\n\nexport default CreateToDo;\n"]},"metadata":{},"sourceType":"module"}