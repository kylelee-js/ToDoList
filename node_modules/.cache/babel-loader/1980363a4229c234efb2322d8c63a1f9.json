{"ast":null,"code":"import _objectSpread from\"/Users/leegihun/Documents/JS_Practice/ToDoList/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/leegihun/Documents/JS_Practice/ToDoList/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/leegihun/Documents/JS_Practice/ToDoList/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect}from\"react\";import{useForm}from\"react-hook-form\";import{useRecoilState,useRecoilValue}from\"recoil\";import{categoryState,toDoState}from\"../atoms\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function CreateToDo(){var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,setValue=_useForm.setValue;var _useRecoilState=useRecoilState(toDoState),_useRecoilState2=_slicedToArray(_useRecoilState,2),toDos=_useRecoilState2[0],setToDos=_useRecoilState2[1];var category=useRecoilValue(categoryState);useEffect(function(){localStorage.setItem(\"storedToDo\",JSON.stringify(toDos));},[toDos]);var onValid=function onValid(TODOS){setToDos(function(prev){return[{text:TODOS.toDo,id:Date.now(),category:category}].concat(_toConsumableArray(prev));});// hook-form의 객체 중  \"toDo\" 프로퍼티의 값을 변경\nsetValue(\"toDo\",\"\");};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onValid),children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({placeholder:\"What to do?\"},register(\"toDo\",{required:true,minLength:{value:5,message:\"too short\"}}))),/*#__PURE__*/_jsx(\"button\",{children:\"Add\"})]})});}export default CreateToDo;","map":{"version":3,"sources":["/Users/leegihun/Documents/JS_Practice/ToDoList/src/components/CreateToDo.tsx"],"names":["useEffect","useForm","useRecoilState","useRecoilValue","categoryState","toDoState","CreateToDo","register","handleSubmit","setValue","toDos","setToDos","category","localStorage","setItem","JSON","stringify","onValid","TODOS","prev","text","toDo","id","Date","now","required","minLength","value","message"],"mappings":"mZAAA,OAASA,SAAT,KAAoC,OAApC,CACA,OAASC,OAAT,KAAwB,iBAAxB,CACA,OAASC,cAAT,CAAyBC,cAAzB,KAAkE,QAAlE,CACA,OAASC,aAAT,CAA6CC,SAA7C,KAA8D,UAA9D,C,6IAMA,QAASC,CAAAA,UAAT,EAAsB,CACpB,aAA6CL,OAAO,EAApD,CAAQM,QAAR,UAAQA,QAAR,CAAkBC,YAAlB,UAAkBA,YAAlB,CAAgCC,QAAhC,UAAgCA,QAAhC,CACA,oBAA0BP,cAAc,CAACG,SAAD,CAAxC,oDAAOK,KAAP,qBAAcC,QAAd,qBACA,GAAMC,CAAAA,QAAQ,CAAGT,cAAc,CAACC,aAAD,CAA/B,CAEAJ,SAAS,CAAC,UAAM,CACda,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAmCC,IAAI,CAACC,SAAL,CAAeN,KAAf,CAAnC,EACD,CAFQ,CAEN,CAACA,KAAD,CAFM,CAAT,CAIA,GAAMO,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAkB,CAChCP,QAAQ,CAAC,SAACQ,IAAD,SACP,CACEC,IAAI,CAAEF,KAAK,CAACG,IADd,CAEEC,EAAE,CAAEC,IAAI,CAACC,GAAL,EAFN,CAGEZ,QAAQ,CAARA,QAHF,CADO,4BAMJO,IANI,IAAD,CAAR,CASA;AACAV,QAAQ,CAAC,MAAD,CAAS,EAAT,CAAR,CACD,CAZD,CAcA,mBACE,sCACE,cAAM,QAAQ,CAAED,YAAY,CAACS,OAAD,CAA5B,wBACE,4BACE,WAAW,CAAC,aADd,EAEMV,QAAQ,CAAC,MAAD,CAAS,CACnBkB,QAAQ,CAAE,IADS,CAEnBC,SAAS,CAAE,CAAEC,KAAK,CAAE,CAAT,CAAYC,OAAO,CAAE,WAArB,CAFQ,CAAT,CAFd,EADF,cAQE,+BARF,GADF,EADF,CAcD,CAED,cAAetB,CAAAA,UAAf","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useRecoilState, useRecoilValue, useSetRecoilState } from \"recoil\";\nimport { categoryState, customCategoryState, toDoState } from \"../atoms\";\n\ninterface IForm {\n  toDo: string;\n  category: string;\n}\nfunction CreateToDo() {\n  const { register, handleSubmit, setValue } = useForm<IForm>();\n  const [toDos, setToDos] = useRecoilState(toDoState);\n  const category = useRecoilValue(categoryState);\n\n  useEffect(() => {\n    localStorage.setItem(\"storedToDo\", JSON.stringify(toDos));\n  }, [toDos]);\n\n  const onValid = (TODOS: IForm) => {\n    setToDos((prev) => [\n      {\n        text: TODOS.toDo,\n        id: Date.now(),\n        category,\n      },\n      ...prev,\n    ]);\n\n    // hook-form의 객체 중  \"toDo\" 프로퍼티의 값을 변경\n    setValue(\"toDo\", \"\");\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit(onValid)}>\n        <input\n          placeholder=\"What to do?\"\n          {...register(\"toDo\", {\n            required: true,\n            minLength: { value: 5, message: \"too short\" },\n          })}\n        />\n        <button>Add</button>\n      </form>\n    </>\n  );\n}\n\nexport default CreateToDo;\n"]},"metadata":{},"sourceType":"module"}