{"ast":null,"code":"import _toConsumableArray from\"/Users/leegihun/Documents/JS_Practice/ToDoList/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/leegihun/Documents/JS_Practice/ToDoList/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/leegihun/Documents/JS_Practice/ToDoList/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import React from\"react\";import{useRecoilState}from\"recoil\";import styled from\"styled-components\";import{customCategoryState,toDoState}from\"../atoms\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CustomCategory=styled.button(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  border-radius: 50%;\\n  background-color: whitesmoke;\\n\"])));function ToDo(_ref){var text=_ref.text,category=_ref.category,id=_ref.id;var _useRecoilState=useRecoilState(toDoState),_useRecoilState2=_slicedToArray(_useRecoilState,2),toDos=_useRecoilState2[0],setToDos=_useRecoilState2[1];var _useRecoilState3=useRecoilState(customCategoryState),_useRecoilState4=_slicedToArray(_useRecoilState3,2),categories=_useRecoilState4[0],setCustomeCategory=_useRecoilState4[1];var onClick=function onClick(event){var name=event.currentTarget.name;setToDos(function(prev){var index=prev.findIndex(function(toDo){return toDo.id===id;});var front=prev.slice(0,index);var back=prev.slice(index+1);var newToDo={text:text,id:id,category:name};var newArr=[].concat(_toConsumableArray(front),[newToDo],_toConsumableArray(back));return newArr;});};var onDelete=function onDelete(){setToDos(function(prev){var targetIndex=prev.findIndex(function(toDo){return toDo.id===id;});var copyToDos=_toConsumableArray(prev);copyToDos.splice(targetIndex,1);return copyToDos;});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"* \",text]}),category!==\"DOING\"&&/*#__PURE__*/_jsx(\"button\",{name:\"DOING\",onClick:onClick,children:\"Doing\"}),category!==\"TODO\"&&/*#__PURE__*/_jsx(\"button\",{name:\"TODO\",onClick:onClick,children:\"To Do\"}),category!==\"DONE\"&&/*#__PURE__*/_jsx(\"button\",{name:\"DONE\",onClick:onClick,children:\"Done\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onDelete,children:\"X\"})]})});}export default ToDo;","map":{"version":3,"sources":["/Users/leegihun/Documents/JS_Practice/ToDoList/src/components/ToDo.tsx"],"names":["React","useRecoilState","styled","customCategoryState","toDoState","CustomCategory","button","ToDo","text","category","id","toDos","setToDos","categories","setCustomeCategory","onClick","event","name","currentTarget","prev","index","findIndex","toDo","front","slice","back","newToDo","newArr","onDelete","targetIndex","copyToDos","splice"],"mappings":"wbAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,cAAT,KAAkE,QAAlE,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,OAASC,mBAAT,CAAqCC,SAArC,KAAsD,UAAtD,C,6IAEA,GAAMC,CAAAA,cAAc,CAAGH,MAAM,CAACI,MAAV,2HAApB,CAKA,QAASC,CAAAA,IAAT,MAA6C,IAA7BC,CAAAA,IAA6B,MAA7BA,IAA6B,CAAvBC,QAAuB,MAAvBA,QAAuB,CAAbC,EAAa,MAAbA,EAAa,CAC3C,oBAA0BT,cAAc,CAACG,SAAD,CAAxC,oDAAOO,KAAP,qBAAcC,QAAd,qBACA,qBAAyCX,cAAc,CAACE,mBAAD,CAAvD,qDAAOU,UAAP,qBAAmBC,kBAAnB,qBAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAgD,CAC9D,GACmBC,CAAAA,IADnB,CAEID,KAFJ,CACEE,aADF,CACmBD,IADnB,CAGAL,QAAQ,CAAC,SAACO,IAAD,CAAU,CACjB,GAAMC,CAAAA,KAAK,CAAGD,IAAI,CAACE,SAAL,CAAe,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACZ,EAAL,GAAYA,EAAtB,EAAf,CAAd,CAEA,GAAMa,CAAAA,KAAK,CAAGJ,IAAI,CAACK,KAAL,CAAW,CAAX,CAAcJ,KAAd,CAAd,CACA,GAAMK,CAAAA,IAAI,CAAGN,IAAI,CAACK,KAAL,CAAWJ,KAAK,CAAG,CAAnB,CAAb,CACA,GAAMM,CAAAA,OAAO,CAAG,CAAElB,IAAI,CAAJA,IAAF,CAAQE,EAAE,CAAFA,EAAR,CAAYD,QAAQ,CAAEQ,IAAtB,CAAhB,CACA,GAAMU,CAAAA,MAAM,8BAAOJ,KAAP,GAAcG,OAAd,qBAA0BD,IAA1B,EAAZ,CACA,MAAOE,CAAAA,MAAP,CACD,CARO,CAAR,CASD,CAbD,CAeA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACrBhB,QAAQ,CAAC,SAACO,IAAD,CAAU,CACjB,GAAMU,CAAAA,WAAW,CAAGV,IAAI,CAACE,SAAL,CAAe,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACZ,EAAL,GAAYA,EAAtB,EAAf,CAApB,CACA,GAAMoB,CAAAA,SAAS,oBAAOX,IAAP,CAAf,CACAW,SAAS,CAACC,MAAV,CAAiBF,WAAjB,CAA8B,CAA9B,EACA,MAAOC,CAAAA,SAAP,CACD,CALO,CAAR,CAMD,CAPD,CAQA,mBACE,sCACE,mCACE,6BAAStB,IAAT,GADF,CAEGC,QAAQ,GAAK,OAAb,eACC,eAAQ,IAAI,CAAE,OAAd,CAAuB,OAAO,CAAEM,OAAhC,mBAHJ,CAOGN,QAAQ,GAAK,MAAb,eACC,eAAQ,IAAI,CAAE,MAAd,CAAsB,OAAO,CAAEM,OAA/B,mBARJ,CAYGN,QAAQ,GAAK,MAAb,eACC,eAAQ,IAAI,CAAE,MAAd,CAAsB,OAAO,CAAEM,OAA/B,kBAbJ,cAiBE,eAAQ,OAAO,CAAEa,QAAjB,eAjBF,GADF,EADF,CAuBD,CAED,cAAerB,CAAAA,IAAf","sourcesContent":["import React from \"react\";\nimport { useRecoilState, useRecoilValue, useSetRecoilState } from \"recoil\";\nimport styled from \"styled-components\";\nimport { customCategoryState, IToDo, toDoState } from \"../atoms\";\n\nconst CustomCategory = styled.button`\n  border-radius: 50%;\n  background-color: whitesmoke;\n`;\n\nfunction ToDo({ text, category, id }: IToDo) {\n  const [toDos, setToDos] = useRecoilState(toDoState);\n  const [categories, setCustomeCategory] = useRecoilState(customCategoryState);\n\n  const onClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    const {\n      currentTarget: { name },\n    } = event;\n    setToDos((prev) => {\n      const index = prev.findIndex((toDo) => toDo.id === id);\n\n      const front = prev.slice(0, index);\n      const back = prev.slice(index + 1);\n      const newToDo = { text, id, category: name as any };\n      const newArr = [...front, newToDo, ...back];\n      return newArr;\n    });\n  };\n\n  const onDelete = () => {\n    setToDos((prev) => {\n      const targetIndex = prev.findIndex((toDo) => toDo.id === id);\n      const copyToDos = [...prev];\n      copyToDos.splice(targetIndex, 1);\n      return copyToDos;\n    });\n  };\n  return (\n    <>\n      <li>\n        <span>* {text}</span>\n        {category !== \"DOING\" && (\n          <button name={\"DOING\"} onClick={onClick}>\n            Doing\n          </button>\n        )}\n        {category !== \"TODO\" && (\n          <button name={\"TODO\"} onClick={onClick}>\n            To Do\n          </button>\n        )}\n        {category !== \"DONE\" && (\n          <button name={\"DONE\"} onClick={onClick}>\n            Done\n          </button>\n        )}\n        <button onClick={onDelete}>X</button>\n      </li>\n    </>\n  );\n}\n\nexport default ToDo;\n"]},"metadata":{},"sourceType":"module"}